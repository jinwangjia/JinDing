@model WebApplication.Models.CommandUpdateModel

@{
    ViewBag.Title = "Update";

    IList<SelectListItem> iconList = new List<SelectListItem>();
    iconList.Add(new SelectListItem() { Value = "icon-add", Text = "添加" });
    iconList.Add(new SelectListItem() { Value = "icon-remove", Text = "删除" });
    iconList.Add(new SelectListItem() { Value = "icon-edit", Text = "修改" });
    iconList.Add(new SelectListItem() { Value = "icon-save", Text = "保存" });
    iconList.Add(new SelectListItem() { Value = "icon-display", Text = "显示" });
    iconList.Add(new SelectListItem() { Value = "icon-sum", Text = "Excel" });
}


<div class="easyui-layout" data-options="fit:true">
	<div data-options="region:'center'" style="padding:10px;">
		@using (Html.BeginForm("Update", "Command", FormMethod.Post, new { id = "Update", autocomplete = "off" }))
        {
            @Html.HiddenFor(o => o.CommandId)
            @Html.HiddenFor(o => o.FunctionId)
            @Html.HiddenFor(o => o.Href)
            @Html.HiddenFor(o => o.Class)
            @Html.HiddenFor(o => o.Plain)
            @Html.HiddenFor(o => o.Href)
                  
            <table width="100%" border="0" align="center" cellpadding="5" cellspacing="1">
                <tr>
                    <td align="right" bgcolor="#F6F6F6">@Html.LabelFor(m => m.CommandName)</td>
                    <td align="left" bgcolor="#F6F6F6">
                        @Html.TextBoxFor(m => m.CommandName)
                        @Html.ValidationMessageFor(m => m.CommandName)
                    </td>
                </tr>
                <tr>
                    <td align="right" bgcolor="#F6F6F6">@Html.LabelFor(m => m.IconCls)</td>
                    <td align="left" bgcolor="#F6F6F6">
                        @Html.DropDownListFor(m => m.IconCls, iconList)
                        @Html.ValidationMessageFor(m => m.IconCls)
                    </td>
                </tr>
                <tr>
                    <td align="right" bgcolor="#F6F6F6">@Html.LabelFor(m => m.OnClick)</td>
                    <td align="left" bgcolor="#F6F6F6">
                        @Html.TextBoxFor(m => m.OnClick)
                        @Html.ValidationMessageFor(m => m.OnClick)
                    </td>
                </tr>
                <tr>
                    <td align="right" bgcolor="#F6F6F6">@Html.LabelFor(m => m.Index)</td>
                    <td align="left" bgcolor="#F6F6F6">
                        @Html.TextBoxFor(m => m.Index)
                        @Html.ValidationMessageFor(m => m.Index)
                    </td>
                </tr>
                <tr>
                    <td align="right" bgcolor="#F6F6F6">@Html.LabelFor(m => m.Location)</td>
                    <td align="left" bgcolor="#F6F6F6">
                        @Html.TextBoxFor(m => m.Location)
                        @Html.ValidationMessageFor(m => m.Location)
                    </td>
                </tr>
                <tr>
                    <td align="right" bgcolor="#F6F6F6"></td>
                    <td align="left" bgcolor="#F6F6F6">
                        <span class="f12red">@ViewBag.Message</span>
                    </td>
                </tr>
            </table>    
        }
	</div>
	<div data-options="region:'south',border:false" style="text-align:right;padding:5px 5px 5px 5px;">
		<a class="easyui-linkbutton" data-options="iconCls:'icon-ok'" href="javascript:void(0)" onclick="javascript:submit1()" style="width:80px">确定</a>
		@*<a class="easyui-linkbutton" data-options="iconCls:'icon-cancel'" href="javascript:void(0)" onclick="javascript:alert('cancel')" style="width:80px">取消</a>*@
	</div>
</div>

<script type="text/javascript">

    function submit1() {
        $.ajax({
            url: "/Command/Update",
            type: "Post",
            data: $("#Update").serialize(),
            dataType: "json",
            success: function (data) {
                if (data == 1) {
                    window.parent.frameReturnUpdateCommandTrue();
                }
                else {
                    window.parent.frameReturnFalse();
                }
            }
        });
    }

</script>

