@model WebApplication.Models.EmployeeGroupUpdateModel
@using System.Linq

@{
    IList<SelectListItem> administratorList = Model.Administrators.Select(o => new SelectListItem() { Value = o.AdministratorId, Text = o.Name, }).ToList();
    IList<SelectListItem> timeList = new List<SelectListItem>();
    for (var index = 0; index < 24; index++)
    {
        timeList.Add(new SelectListItem() { Value = index.ToString(), Text = index.ToString().PadLeft(10, ' ') });
    };
}


<div class="easyui-layout" data-options="fit:true">
    <div data-options="region:'center'" style="padding:10px;">
        @using (Html.BeginForm("Update", "EmployeeGroup", FormMethod.Post, new { id = "Update", autocomplete = "off" }))
        {
            @Html.HiddenFor(m => m.EmployeeGroupId)
        <table width="100%" border="0" align="center" cellpadding="5" cellspacing="1">
            <tr>
                <td align="right" bgcolor="#F6F6F6">@Html.LabelFor(m => m.EmployeeGroupName):</td>
                <td align="left" bgcolor="#F6F6F6">
                    @Html.TextBoxFor(m => m.EmployeeGroupName)
                    @Html.ValidationMessageFor(m => m.EmployeeGroupName)
                </td>
            </tr>
            <tr>
                <td align="right" bgcolor="#F6F6F6">@Html.LabelFor(m => m.LeftTime):</td>
                <td align="left" bgcolor="#F6F6F6">
                    @Html.DropDownListFor(m => m.LeftTime, timeList)
                    @Html.ValidationMessageFor(m => m.LeftTime)
                </td>
            </tr>
            <tr>
                <td align="right" bgcolor="#F6F6F6">@Html.LabelFor(m => m.RightTime):</td>
                <td align="left" bgcolor="#F6F6F6">
                    @Html.DropDownListFor(m => m.RightTime, timeList)
                    @Html.ValidationMessageFor(m => m.RightTime)
                </td>
            </tr>
            <tr>
                <td align="right" bgcolor="#F6F6F6">@Html.LabelFor(m => m.MonitorId):</td>
                <td align="left" bgcolor="#F6F6F6">
                    @Html.DropDownListFor(m => m.MonitorId, administratorList)
                    @Html.ValidationMessageFor(m => m.MonitorId)
                </td>
            </tr>
            <tr>
                <td align="right" bgcolor="#F6F6F6">@Html.LabelFor(m => m.OtherEmployeesId1):</td>
                <td align="left" bgcolor="#F6F6F6">
                    @Html.DropDownListFor(m => m.OtherEmployeesId1, administratorList)
                    @Html.ValidationMessageFor(m => m.OtherEmployeesId1)
                </td>
            </tr>
            <tr>
                <td align="right" bgcolor="#F6F6F6">@Html.LabelFor(m => m.OtherEmployeesId2):</td>
                <td align="left" bgcolor="#F6F6F6">
                    @Html.DropDownListFor(m => m.OtherEmployeesId2, administratorList)
                    @Html.ValidationMessageFor(m => m.OtherEmployeesId2)
                </td>
            </tr>


            <tr>
                <td align="right" bgcolor="#F6F6F6"></td>
                <td align="left" bgcolor="#F6F6F6">
                    <span class="f12red">@ViewBag.Message</span>
                </td>
            </tr>
        </table>
        }
    </div>
    <div data-options="region:'south',border:false" style="text-align:right;padding:5px 5px 5px 5px;">
        <a class="easyui-linkbutton" data-options="iconCls:'icon-ok'" href="javascript:void(0)" onclick="javascript:submit1()" style="width:80px">确定</a>
    </div>
</div>

<script type="text/javascript">

    function submit1() {
        if ($("form").valid()) {
            $.ajax({
                url: "/EmployeeGroup/Update",
                type: "Post",
                data: $("#Update").serialize(),
                dataType: "json",
                success: function (data) {
                    if (data.state == "ok") {
                        window.parent.frameReturnUpdateTrue();
                    }
                    else {
                        window.parent.frameReturnFalse(data.data);
                    }
                }
            });
        }
    }

</script>

